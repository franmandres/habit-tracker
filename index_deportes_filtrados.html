<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Habit Tracker Mensual</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900">

  <!-- Encabezado -->
  <header class="text-center py-6 bg-white shadow">
    <h1 class="text-3xl font-bold">Habit Tracker - Mayo 2025</h1>
  </header>

  <!-- Calendario -->
  <main class="max-w-4xl mx-auto p-4">
    <div class="grid grid-cols-7 gap-2 text-center">
      <!-- Días de la semana -->
      <div class="font-semibold">Lun</div>
      <div class="font-semibold">Mar</div>
      <div class="font-semibold">Mié</div>
      <div class="font-semibold">Jue</div>
      <div class="font-semibold">Vie</div>
      <div class="font-semibold">Sáb</div>
      <div class="font-semibold">Dom</div>

      <!-- Días del mes (Ejemplo: Mayo 2025, empieza en jueves) -->
      <!-- Celdas vacías para ajustar inicio del mes -->
      <div></div><div></div><div></div><div></div>
      <!-- Generar días del 1 al 31 -->
      <script>
        const today = new Date();
        const daysInMonth = 31;
        const calendar = [];
        for (let i = 1; i <= daysInMonth; i++) {
          calendar.push(`<button onclick="openModal(${i})" class="bg-white border rounded p-2 hover:bg-blue-100">${i}</button>`);
        }
        document.write(calendar.join(''));
      </script>
    </div>
  </main>

  <!-- Modal para seleccionar hábitos -->
  <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-10">
    <div class="bg-white rounded-lg p-6 w-full max-w-xl relative">
      <button onclick="closeModal()" class="absolute top-2 right-2 text-gray-500 hover:text-black">&times;</button>
      <h2 id="modal-title" class="text-xl font-semibold mb-4">Registro del día</h2>

      <!-- Hábitos -->
      <div class="mb-4">
        <h3 class="font-medium mb-2">Hábitos diarios</h3>
        <div class="grid grid-cols-2 gap-2">
          <label><input type="checkbox" id="agua" /> Tomar agua</label>
          <label><input type="checkbox" id="leer" /> Leer</label>
          <label><input type="checkbox" id="dormir" /> Dormir 7h</label>
          <label><input type="checkbox" id="creatina" /> Creatina</label>
          <label><input type="checkbox" id="proyecto" /> Proyecto personal</label>
        </div>
      </div>

      <!-- Ejercicio -->
      <div class="mb-4">
        <h3 class="font-medium mb-2">Ejercicio</h3>
        <select id="ejercicio" onchange="mostrarOpcionesEjercicio()" class="w-full border rounded p-2">
          <option value="">Seleccionar...</option>
          <option value="natacion">Natación</option>
          <option value="padel">Pádel</option>
          <option value="gimnasio">Gimnasio</option>
          <option value="running">Running</option>
        </select>

        <!-- Opciones adicionales -->
        <div id="running-fields" class="mt-2 hidden">
          <input type="text" id="ritmo" placeholder="Ritmo (min/km)" class="w-full border rounded p-2 my-1" />
          <input type="number" id="km" placeholder="Kilómetros" class="w-full border rounded p-2 my-1" />
        </div>

        <div id="gimnasio-fields" class="mt-2 hidden">
          <select id="tipoGimnasio" class="w-full border rounded p-2">
            <option value="">Tipo de entrenamiento</option>
            <option value="espalda">Espalda/Bíceps</option>
            <option value="pecho">Pecho/Tríceps</option>
            <option value="hombro">Hombro/Abdominales</option>
            <option value="otro">Otro</option>
          </select>
        </div>
      </div>

      <button onclick="guardarRegistro()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Guardar</button>
    </div>
  </div>

  <!-- Script principal -->
  <script>
    let selectedDay = null;

    function openModal(day) {
      selectedDay = day;
      document.getElementById('modal').classList.remove('hidden');
      document.getElementById('modal-title').textContent = `Registro del día ${day}`;
    }

    function closeModal() {
      document.getElementById('modal').classList.add('hidden');
      selectedDay = null;
      document.getElementById('ejercicio').value = '';
      document.getElementById('running-fields').classList.add('hidden');
      document.getElementById('gimnasio-fields').classList.add('hidden');
    }

    function mostrarOpcionesEjercicio() {
      const tipo = document.getElementById('ejercicio').value;
      document.getElementById('running-fields').classList.toggle('hidden', tipo !== 'running');
      document.getElementById('gimnasio-fields').classList.toggle('hidden', tipo !== 'gimnasio');
    }

    function guardarRegistro() {
      // Por ahora solo mostramos por consola
      const registro = {
        dia: selectedDay,
        habitos: {
          agua: document.getElementById('agua').checked,
          leer: document.getElementById('leer').checked,
          dormir: document.getElementById('dormir').checked,
          creatina: document.getElementById('creatina').checked,
          proyecto: document.getElementById('proyecto').checked,
        },
        ejercicio: document.getElementById('ejercicio').value,
        ritmo: document.getElementById('ritmo').value,
        km: document.getElementById('km').value,
        tipoGimnasio: document.getElementById('tipoGimnasio').value,
      };
      console.log("Registro guardado:", registro);
      closeModal();
    }
  </script>

</body>
</html>
